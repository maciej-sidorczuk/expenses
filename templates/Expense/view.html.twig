{% extends 'base.html.twig' %}

{% block title %}Expense application - Your expenses{% endblock %}

{% block stylesheetshead %}
  <link rel="stylesheet" href="{{asset('css/datepicker/jquery-ui.css')}}">
  <link rel="stylesheet" href="{{asset('css/datepicker/style.css')}}">
  <link rel="stylesheet" href="{{asset('css/lib/chartjs/Chart.min.css')}}">
{% endblock %}
{% block scriptshead %}
  <script src="{{ asset('js/lib/jquery-1.12.4.js') }}"></script>
  <script src="{{ asset('js/lib/jquery-ui.js') }}"></script>
  <script src="{{ asset('js/lib/chartjs/Chart.min.js') }}"></script>
{% endblock %}

{% block body %}
  <h2>Your expenses</h2>
  {{ include('Expense/filterTool.html.twig', { 'products': products, 'expenseType': expenseType, 'paymentMethod': paymentMethod, 'expenseCategory' : expenseCategory, 'purchasePlace': purchasePlace }) }}
  {{ include('Expense/createForm.html.twig', {
  'products': products,
  'expenseType': expenseType,
  'paymentMethod': paymentMethod,
  'expenseCategory' : expenseCategory,
  'purchasePlace': purchasePlace,
  'sectionId': 'create_new',
  'formId' : 'create_expense',
  'title': 'Create expense',
  'dateId' : 'datepicker3',
  'dateName' : 'create_purchase_date',
  'descriptionId' : 'create_description',
  'weightId' : 'create_weight',
  'priceId' : 'create_price',
  'quantityId' : 'create_quantity',
  'commentId' : 'create_comment',
  'productId' : 'create_product',
  'selectProductId' : 'select_product',
  'typeExpenseId' : 'create_type_expense',
  'selectTypExpenseId' : 'select_type_expense',
  'paymentMethodId' : 'create_payment_method',
  'selectPaymentMethodId' : 'select_payment_method',
  'expenseCategoryId' : 'create_expense_category',
  'selectExpenseCategoryId' : 'select_expense_category',
  'purchasePlaceId' : 'create_purchase_place',
  'selectPurchasePlace' : 'select_purchase_place',
  'sameShopping' : true,
  'submit' : 'Create',
  'mode' : 'create'
  })
  }}
  {{ include('Expense/createForm.html.twig', {
  'products': products,
  'expenseType': expenseType,
  'paymentMethod': paymentMethod,
  'expenseCategory' : expenseCategory,
  'purchasePlace': purchasePlace,
  'sectionId': 'edit_expense_section',
  'formId' : 'edit_expense',
  'title' : 'Edit expense',
  'dateId' : 'edit_datepicker3',
  'dateName' : 'edit_purchase_date',
  'descriptionId' : 'edit_description',
  'weightId' : 'edit_weight',
  'priceId' : 'edit_price',
  'quantityId' : 'edit_quantity',
  'commentId' : 'edit_comment',
  'productId' : 'edit_product',
  'selectProductId' : 'edit_select_product',
  'typeExpenseId' : 'edit_type_expense',
  'selectTypExpenseId' : 'edit_select_type_expense',
  'paymentMethodId' : 'edit_payment_method',
  'selectPaymentMethodId' : 'edit_select_payment_method',
  'expenseCategoryId' : 'edit_expense_category',
  'selectExpenseCategoryId' : 'edit_select_expense_category',
  'purchasePlaceId' : 'edit_purchase_place',
  'selectPurchasePlace' : 'edit_select_purchase_place',
  'sameShopping' : false,
  'submit' : 'Edit',
  'mode' : 'edit'
  })
  }}
  <div class="charts">
    <div class="mainChartContainer">
      <p class="chart-title">Total expenses vs time chart:</p>
      <canvas id="mainChart"></canvas>
    </div>
    <div class="pieContainer">
      <div class="pie">
        <p class="chart-title">Expense category pie:</p>
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="pie">
        <p class="chart-title">Place pie:</p>
        <canvas id="placeChart"></canvas>
      </div>
      <div class="pie">
        <p class="chart-title">Type of expense pie:</p>
        <canvas id="typeOfExpenseChart"></canvas>
      </div>
      <div class="pie">
        <p class="chart-title">Payment method pie:</p>
        <canvas id="paymentMethodChart"></canvas>
      </div>
    </div>
  </div>
  {% block scriptsbody %}
    <script src="{{ asset('js/main.js') }}"></script>
    <script src="{{ asset('js/myChartScripts.js') }}"></script>
  {% endblock %}
{% endblock %}
